<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
    <title>五子棋 · 多模式平台</title>
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- 基础样式 -->
    <link rel="stylesheet" href="css/base/reset.css">
    <link rel="stylesheet" href="css/base/typography.css">
    <link rel="stylesheet" href="css/theme/material-colors.css">
    <link rel="stylesheet" href="css/theme/animations.css">
    <link rel="stylesheet" href="css/layout/container.css">
    <link rel="stylesheet" href="css/layout/grid.css">
    <link rel="stylesheet" href="css/components/buttons.css">
    <link rel="stylesheet" href="css/components/cards.css">
    <link rel="stylesheet" href="css/pages/index.css">
    <!-- 启动画面样式（内联，确保立即生效） -->
    <style>
        /* 启动画面覆盖层 */
        #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--md-background, #fef7e9); /* 暖黄背景 */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.3s ease-out;
            pointer-events: none; /* 防止遮挡点击，但为了显示，我们保留 */
        }
        /* 旋转圈 - Material Design 风格 */
        .splash-spinner {
            width: 48px;
            height: 48px;
            border: 4px solid rgba(244, 183, 64, 0.2); /* 主色透明 */
            border-top-color: var(--md-primary, #f4b740); /* 主色实线 */
            border-radius: 50%;
            animation: splash-rotate 1s linear infinite;
            margin-bottom: 16px;
        }
        @keyframes splash-rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .splash-text {
            font-size: 1.2rem;
            color: var(--md-on-background, #2c1e0e);
            font-weight: 400;
            letter-spacing: 1px;
        }
        /* 隐藏状态 */
        #splash-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }
    </style>
</head>
<body class="md2-theme">
    <!-- 启动画面 -->
    <div id="splash-screen">
        <div class="splash-spinner"></div>
        <div class="splash-text">加载中...</div>
    </div>

    <!-- 主页面内容 -->
    <div class="container index-page" style="opacity: 0; transition: opacity 0.3s ease;">
        <h1 class="md2-headline3">五子棋</h1>
        <div class="cards-grid">
            <a href="main/local-2p.html" class="md2-card interactive">
                <span class="material-icons card-icon">people</span>
                <h2 class="md2-headline6">本地双人对战</h2>
                <p class="md2-body2">同一屏幕，轮流落子</p>
                <span class="status-badge active">已开放</span>
            </a>
            <a href="main/remote-2p.html" class="md2-card interactive">
                <span class="material-icons card-icon">cloud</span>
                <h2 class="md2-headline6">远程双人对战</h2>
                <p class="md2-body2">多房间 · Gitee存储</p>
                <span class="status-badge active">已开放</span>
            </a>
            <!-- 人机对战 (已开放) -->
            <a href="main/local-vs-ai.html" class="md2-card interactive">
            <span class="material-icons card-icon">smart_toy</span>
            <h2 class="md2-headline6">真人 VS 电脑</h2>
            <p class="md2-body2">挑战AI (防守型)</p>
            <span class="status-badge active">已开放</span>
            </a>
            <div class="md2-card disabled">
                <span class="material-icons card-icon">computer</span>
                <h2 class="md2-headline6">电脑 VS 电脑</h2>
                <p class="md2-body2">AI 对弈 (敬请期待)</p>
                <span class="status-badge">计划中</span>
            </div>
            <a href="main/spectate.html" class="md2-card interactive">
                <span class="material-icons card-icon">visibility</span>
                <h2 class="md2-headline6">观战系统</h2>
                <p class="md2-body2">实时观看任意对局</p>
                <span class="status-badge active">已开放</span>
            </a>
        </div>
    </div>

    <!-- 加载配置（非模块） -->
    <script src="js/config.js"></script>

    <!-- 启动画面控制脚本 -->
    <script>
        (function() {
            const splash = document.getElementById('splash-screen');
            const content = document.querySelector('.index-page');
            const startTime = Date.now();
            const minDisplayTime = 1000; // 至少显示 1 秒

            function hideSplash() {
                // 添加隐藏类触发淡出
                splash.classList.add('hidden');
                // 显示主页内容
                content.style.opacity = '1';
                // 动画结束后移除 splash 元素（可选）
                setTimeout(() => {
                    if (splash.parentNode) {
                        splash.remove();
                    }
                }, 300); // 与 transition 时间匹配
            }

            function onLoadComplete() {
                const elapsed = Date.now() - startTime;
                if (elapsed >= minDisplayTime) {
                    hideSplash();
                } else {
                    setTimeout(hideSplash, minDisplayTime - elapsed);
                }
            }

            // 如果页面已经加载完成（理论上不会，但以防万一）
            if (document.readyState === 'complete') {
                onLoadComplete();
            } else {
                window.addEventListener('load', onLoadComplete);
            }
        })();
    </script>
</body>
</html>